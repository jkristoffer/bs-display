---
import Button from '../../common/Button/Button.astro';
---

<section class="quiz-promotion">
  <div class="quiz-promotion__container">
    <div class="quiz-promotion__header">
      <h2 class="quiz-promotion__title">
        <span class="title-gradient">Not Sure Which Display You Need?</span>
      </h2>
      <p class="quiz-promotion__subtitle">
        Get personalized recommendations in under 2 minutes
      </p>
    </div>
    
    <div class="quiz-promotion__main">
      <div class="quiz-promotion__content">
        <p class="quiz-promotion__description">
          Our intelligent recommendation engine considers your space, budget, and usage patterns to suggest the perfect display solution.
        </p>
        
        <div class="quiz-promotion__features">
          <div class="feature-item">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M9 11L12 14L22 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M21 12V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V5C3 3.89543 3.89543 3 5 3H16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>6 Quick Questions</span>
          </div>
          <div class="feature-item">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Tailored Results</span>
          </div>
          <div class="feature-item">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
              <polyline points="12 6 12 12 16 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Under 2 Minutes</span>
          </div>
        </div>
        
        <div class="quiz-promotion__actions">
          <Button 
            variant="primary" 
            size="lg" 
            href="/quiz" 
            id="quiz-cta-primary"
          >
            Start Smart Selection Quiz
          </Button>
        </div>
      </div>
      
      <div class="quiz-promotion__visual">
        <div class="visual-container">
          <div class="floating-cards">
            <div class="card card--education">
              <div class="card-icon">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
                  <path d="M2 3H8C9.06087 3 10.0783 3.42143 10.8284 4.17157C11.5786 4.92172 12 5.93913 12 7V21C12 20.2044 11.6839 19.4413 11.1213 18.8787C10.5587 18.3161 9.79565 18 9 18H2V3Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M22 3H16C14.9391 3 13.9217 3.42143 13.1716 4.17157C12.4214 4.92172 12 5.93913 12 7V21C12 20.2044 12.3161 19.4413 12.8787 18.8787C13.4413 18.3161 14.2044 18 15 18H22V3Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </div>
              <h3>Education</h3>
              <p>Classroom Solutions</p>
            </div>
            
            <div class="card card--corporate">
              <div class="card-icon">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
                  <rect x="2" y="7" width="20" height="14" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
                  <path d="M16 21V5C16 4.46957 15.7893 3.96086 15.4142 3.58579C15.0391 3.21071 14.5304 3 14 3H10C9.46957 3 8.96086 3.21071 8.58579 3.58579C8.21071 3.96086 8 4.46957 8 5V21" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <h3>Business</h3>
              <p>Meeting Rooms</p>
            </div>
            
            <div class="card card--creative">
              <div class="card-icon">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
                  <path d="M12 2L13.09 8.74L19 7L16.45 12.82L22 16L16.45 19.18L19 25L13.09 23.26L12 30L10.91 23.26L5 25L7.55 19.18L2 16L7.55 12.82L5 7L10.91 8.74L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </div>
              <h3>Creative</h3>
              <p>Design Studios</p>
            </div>
          </div>
          
          <!-- Animated background elements -->
          <div class="bg-circle bg-circle-1"></div>
          <div class="bg-circle bg-circle-2"></div>
        </div>
      </div>
    </div>
  </div>
</section>

<style lang="scss">
  .quiz-promotion {
    padding: calc(var(--spacing-xl) * 2) 0;
    position: relative;
    overflow: visible; /* Allow cards to extend beyond boundaries */
    background: linear-gradient(135deg, #f8fafb 0%, #f0f4f8 100%);
  }

  .quiz-promotion__container {
    max-width: var(--spacing-container-max-width);
    margin: 0 auto;
    padding: 0 var(--spacing-md);
  }

  /* Modern Header Styles */
  .quiz-promotion__header {
    text-align: center;
    margin-bottom: calc(var(--spacing-xl) * 1.5);
  }

  .quiz-promotion__title {
    font-size: clamp(32px, 5vw, 48px);
    margin-bottom: var(--spacing-md);
    font-weight: 700;
  }

  .title-gradient {
    background: linear-gradient(135deg, #2563eb 0%, #3b82f6 50%, #60a5fa 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .quiz-promotion__subtitle {
    font-size: clamp(18px, 2.5vw, 24px);
    color: var(--color-text-primary);
    opacity: 0.7;
    font-weight: 400;
  }

  /* Main Content Area */
  .quiz-promotion__main {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: calc(var(--spacing-xl) * 2);
    align-items: center;
    
    @media (max-width: $breakpoint-lg) {
      grid-template-columns: 1fr;
      text-align: center;
    }
  }

  .quiz-promotion__content {
    max-width: 500px;
    
    @media (max-width: $breakpoint-lg) {
      margin: 0 auto;
    }
  }

  .quiz-promotion__description {
    font-size: clamp(16px, 2vw, 20px);
    line-height: 1.7;
    color: var(--color-text-primary);
    opacity: 0.8;
    margin-bottom: calc(var(--spacing-lg) * 1.5);
  }

  /* Feature Items */
  .quiz-promotion__features {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
    margin-bottom: calc(var(--spacing-lg) * 1.5);
  }

  .feature-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    font-size: var(--font-size-body-regular);
    color: var(--color-text-primary);
    
    svg {
      width: 24px;
      height: 24px;
      color: #3b82f6;
      flex-shrink: 0;
    }
    
    span {
      font-weight: 500;
    }
  }

  /* Visual Section */
  .quiz-promotion__visual {
    position: relative;
    height: 400px;
    padding: 60px 40px; /* Add padding to prevent card clipping */
    
    @media (max-width: $breakpoint-lg) {
      height: 350px;
      margin-top: var(--spacing-xl);
      padding: 40px 20px;
    }
  }

  .visual-container {
    position: relative;
    width: 100%;
    height: 100%;
  }

  /* Floating Cards */
  .floating-cards {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: flex;
    gap: -20px;
  }

  .card {
    width: 180px;
    height: 220px;
    background: white;
    border-radius: 20px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
    padding: var(--spacing-lg);
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    cursor: pointer;
    position: relative;
    
    &:nth-child(1) {
      transform: translateX(-30px) translateY(-20px) rotate(-8deg);
      z-index: 1;
    }
    
    &:nth-child(2) {
      z-index: 2;
      transform: translateY(-10px);
    }
    
    &:nth-child(3) {
      transform: translateX(30px) translateY(-20px) rotate(8deg);
      z-index: 1;
    }
    
    &:hover {
      transform: translateY(-30px) rotate(0) scale(1.05);
      z-index: 10;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
    }
    
    @media (max-width: $breakpoint-md) {
      width: 140px;
      height: 180px;
      
      &:nth-child(1) {
        transform: translateX(-20px) translateY(-10px) rotate(-6deg);
      }
      
      &:nth-child(3) {
        transform: translateX(20px) translateY(-10px) rotate(6deg);
      }
    }
  }

  .card-icon {
    width: 64px;
    height: 64px;
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: var(--spacing-md);
    
    svg {
      width: 32px;
      height: 32px;
    }
  }

  .card--education {
    .card-icon {
      background: linear-gradient(135deg, #4ade80 0%, #22c55e 100%);
      color: white;
    }
    
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #4ade80 0%, #22c55e 100%);
      border-radius: 20px 20px 0 0;
    }
  }
  
  .card--corporate {
    .card-icon {
      background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%);
      color: white;
    }
    
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #60a5fa 0%, #3b82f6 100%);
      border-radius: 20px 20px 0 0;
    }
  }
  
  .card--creative {
    .card-icon {
      background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
      color: white;
    }
    
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #fbbf24 0%, #f59e0b 100%);
      border-radius: 20px 20px 0 0;
    }
  }

  .card h3 {
    font-size: 18px;
    font-weight: 600;
    color: var(--color-text-primary);
    margin-bottom: var(--spacing-sm);
  }
  
  .card p {
    font-size: 14px;
    color: var(--color-text-primary);
    opacity: 0.7;
    margin: 0;
  }

  /* Background Circles */
  .bg-circle {
    position: absolute;
    border-radius: 50%;
    opacity: 0.1;
    pointer-events: none;
  }
  
  .bg-circle-1 {
    width: 300px;
    height: 300px;
    background: radial-gradient(circle, #3b82f6 0%, transparent 70%);
    top: -150px;
    left: -150px;
    animation: float 15s ease-in-out infinite;
  }
  
  .bg-circle-2 {
    width: 200px;
    height: 200px;
    background: radial-gradient(circle, #10b981 0%, transparent 70%);
    bottom: -100px;
    right: -100px;
    animation: float 20s ease-in-out infinite reverse;
  }

  @keyframes float {
    0%, 100% { transform: translate(0, 0) scale(1); }
    33% { transform: translate(30px, -30px) scale(1.1); }
    66% { transform: translate(-20px, 20px) scale(0.9); }
  }

  /* Reduced Motion */
  @media (prefers-reduced-motion: reduce) {
    .card,
    .bg-circle {
      animation: none;
      transition: none;
    }
    
    .card:hover {
      transform: none;
    }
  }
</style>