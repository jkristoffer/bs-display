#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Check if any route files changed
routes_changed=$(git diff --cached --name-only | grep -E "(src/pages/.*\.(astro|ts|js)|astro\.config\.mjs)")

if [ ! -z "$routes_changed" ]; then
  echo "ðŸ”„ Route files changed, updating route documentation..."
  npm run docs:routes
  
  # Add the updated ROUTES.md if it exists
  if [ -f "ROUTES.md" ]; then
    git add ROUTES.md
    echo "âœ… Route documentation updated and staged"
  fi
fi