---
// Import quiz data from JSON file
import quizDataRaw from './quizdata.json';
import type { QuizData } from './types';
import { FinalQuiz } from './Quiz';
import PageHeaderModern from '../common/page-header/PageHeaderModern.astro';

const quizData = quizDataRaw as QuizData;
---

<PageHeaderModern
  title="Find Your Perfect Smart Display"
  subtitle="Answer 6 quick questions and get personalized recommendations for your education or business needs"
  badge="Expert Quiz"
  badgeIcon="ðŸŽ¯"
/>

  <!-- Quiz Background Elements -->
  <div class="quiz-bg-elements">
    <div class="bg-pattern"></div>
    <div class="bg-glow bg-glow-1"></div>
    <div class="bg-glow bg-glow-2"></div>
    <div class="bg-glow bg-glow-3"></div>
  </div>

  <section class="quiz-section-modern">
    <div class="quiz-container-modern">
      <div class="quiz-client-wrapper">
        <FinalQuiz client:load quizData={quizData} />
      </div>
    </div>
  </section>

<style lang="scss">
  /* Quiz Background Elements */
  .quiz-bg-elements {
    position: fixed;
    inset: 0;
    z-index: -1;
    pointer-events: none;
    overflow: hidden;
  }

  .bg-pattern {
    position: absolute;
    inset: 0;
    background-image: 
      radial-gradient(circle at 25% 75%, rgba(59, 130, 246, 0.05) 0%, transparent 50%),
      radial-gradient(circle at 75% 25%, rgba(16, 185, 129, 0.05) 0%, transparent 50%),
      radial-gradient(circle at 50% 50%, rgba(139, 92, 246, 0.03) 0%, transparent 50%);
  }

  .bg-glow {
    position: absolute;
    border-radius: 50%;
    filter: blur(120px);
    opacity: 0.08;
  }

  .bg-glow-1 {
    width: 600px;
    height: 600px;
    background: radial-gradient(circle, #3b82f6 0%, transparent 70%);
    top: -300px;
    right: -300px;
    animation: glow1Float 25s ease-in-out infinite;
  }

  .bg-glow-2 {
    width: 400px;
    height: 400px;
    background: radial-gradient(circle, #10b981 0%, transparent 70%);
    bottom: -200px;
    left: -200px;
    animation: glow2Float 20s ease-in-out infinite reverse;
  }

  .bg-glow-3 {
    width: 500px;
    height: 500px;
    background: radial-gradient(circle, #8b5cf6 0%, transparent 70%);
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    animation: glow3Float 30s ease-in-out infinite;
  }

  /* Modern Quiz Section */
  .quiz-section-modern {
    padding: var(--space-section) 0;
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.9) 0%, rgba(248, 250, 252, 0.95) 100%);
    backdrop-filter: blur(10px);
    position: relative;
    min-height: 90vh;
    overflow: hidden;
  }

  .quiz-container-modern {
    max-width: var(--container-default);
    margin: 0 auto;
    padding: 0 var(--space-md);
    position: relative;
    z-index: 2;
  }

  .quiz-client-wrapper {
    max-width: 1000px;
    margin: 0 auto;
    position: relative;
    z-index: 3;
  }

  /* Animations */
  @keyframes glow1Float {
    0%, 100% { transform: translate(0, 0) rotate(0deg); }
    33% { transform: translate(-50px, -30px) rotate(120deg); }
    66% { transform: translate(30px, -40px) rotate(240deg); }
  }

  @keyframes glow2Float {
    0%, 100% { transform: translate(0, 0) rotate(0deg); }
    33% { transform: translate(40px, -20px) rotate(-120deg); }
    66% { transform: translate(-30px, 30px) rotate(-240deg); }
  }

  @keyframes glow3Float {
    0%, 100% { transform: translate(-50%, -50%) rotate(0deg) scale(1); }
    25% { transform: translate(-50%, -50%) rotate(90deg) scale(1.1); }
    50% { transform: translate(-50%, -50%) rotate(180deg) scale(0.9); }
    75% { transform: translate(-50%, -50%) rotate(270deg) scale(1.05); }
  }

  /* Reduced Motion */
  @media (prefers-reduced-motion: reduce) {
    .bg-glow-1, .bg-glow-2, .bg-glow-3 {
      animation: none !important;
    }
    
    .quiz-section-modern {
      backdrop-filter: none;
    }
  }
</style>
